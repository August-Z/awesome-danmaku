/*!
 * awesome-danmaku v1.4.7
 * (c) 2020 August-Z
 * https://github.com/August-Z/awesome-danmaku
 */
(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else{var r=n();for(var i in r)(typeof exports==="object"?exports:t)[i]=r[i]}})(window,function(){return function(n){var r={};function i(e){if(r[e]){return r[e].exports}var t=r[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=n;i.c=r;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(t,e){if(e&1)t=i(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="/";return i(i.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DanmakuPlayer=undefined;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(1);var c=h(i);var o=n(2);var a=h(o);var s=n(3);var d=n(12);var u=n(15);var l=n(16);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t.default=e;return t}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var y=t.DanmakuPlayer=function(){function n(e){v(this,n);this.trackList=[];this.nodeList=[];this.list=[];if(!window){throw new Error("Please run in browser support.")}else if(n.__lock__!==true){throw new Error('Please use the "getPlayer" function instead of creating objects.')}this.playStatus=i.DanmakuControlPlayStatus.EMPTY;this._handleOptions(e);this._init();this._registerEvent()}r(n,[{key:"insert",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r){var i=this.nodeTag.toLowerCase();var o=document.createElement(i);var a=this._handleDanmakuOps(t).shift();var s=new d.Dnode(f({control:this},c.DnodeDefaultConfig.getDefault,a)).init(o);var u="";if("nodeClass"in a&&a.nodeClass){if(Array.isArray(a.nodeClass)&&a.nodeClass.every(function(e){return typeof e==="string"})){u=a.nodeClass.join(" ")}else if(typeof a.nodeClass==="string"){u=a.nodeClass}}o.setAttribute("class",this.nodeClass+" "+u);this.el.appendChild(o);s.patch(a).run(function(e){n.el.removeChild(o);delete s.dom})}else{var l;(l=this.list).push.apply(l,p(this._handleDanmakuOps(t)))}return this.list}},{key:"play",value:function e(){if(!Array.isArray(this.list)){throw new TypeError("list must instanceof Array")}else if(["static","static !important",""].includes(getComputedStyle(this.el).position)){throw new Error("Play error! el (wrap dom) position can't is static or empty, \n"+'Please set "relative"„ÄÅ"absolute" or "fixed".')}var t=this;var n=0;function r(){requestAnimationFrame(r);if(++n%t._overlap===0){n=0;t.playTick()}}requestAnimationFrame(r);this.playStatus=i.DanmakuControlPlayStatus.PLAY;this._controlHook(i.DanmakuControlEventName.PLAY);return this}},{key:"playTick",value:function e(){if(this.hasTasks&&this.playStatus===i.DanmakuControlPlayStatus.PLAY){var t=this.getUnObstructedNode();t&&t.patch(this.list.shift()).run()}}},{key:"pause",value:function e(){this.playStatus=i.DanmakuControlPlayStatus.PAUSED;this._controlHook(i.DanmakuControlEventName.PAUSE);return this}},{key:"stop",value:function e(){this.playStatus=i.DanmakuControlPlayStatus.STOP;this._controlHook(i.DanmakuControlEventName.STOP);this.clearList();return this}},{key:"clearList",value:function e(){if(Array.isArray(this.list)&&this.list.length){this.list=[]}return this}},{key:"change",value:function e(t,n){switch(t){case"opacity":this._changeOpacity(Number(n));break;case"speed":this._changeSpeed(Number(n));break;case"overlap":this._changeOverlap(Number(n));break;default:console.warn("[Change WARN]: The player not has '"+t+"' param! Or this property is readonly.\n")}}},{key:"getUnObstructedTrack",value:function e(){var t=this.trackList;for(var n=0,r=this.trackCount;n<r;n++){if(t[n].unObstructed){return t[n]}}return null}},{key:"getUnObstructedNode",value:function e(){var t=this.nodeList;for(var n=0,r=this.nodeMaxCount;n<r;n++){if(t[n].unObstructed){return t[n]}}return null}},{key:"_handleOptions",value:function e(t){var n=c.DanmakuPlayDefaultConfig.getDefault;if(typeof t==="string"||t instanceof HTMLElement){(0,u.initMergeDefaultParams)({},f({el:t},n),this)}else if(t instanceof Object||Object.prototype.toString.call(t)==="[object Object]"){(0,u.initMergeDefaultParams)(t,f({el:document.body},n),this);if(t.hasOwnProperty("list")){this.insert(t.list)}}else{throw new Error("Control error, bad param(options) !")}return this}},{key:"_init",value:function e(){this._initSelfConfig();this._checkElement();this._bindControlStyle();this._initTrackList();this._initNodeList();this.playStatus=i.DanmakuControlPlayStatus.INIT;this._controlHook(i.DanmakuControlEventName.INIT);return this}},{key:"_registerEvent",value:function e(){var a=this;if(!this.el){return undefined}window.addEventListener("orientationchange",function(e){var t=e.orientation|screen.orientation.angle;switch(t){case 0:case 180:a.playerWidth=a.el.clientWidth;break;case 90:case-90:a.playerWidth=a.el.clientHeight;break}},false);this.el.addEventListener("resize",function(e){a.playerWidth=a.el.clientWidth});this.el.addEventListener("transitionend",function(e){if(e&&e.target){var t=e.target;if(!(t instanceof HTMLElement)){return undefined}var n=void 0;if(a._elementMap.has(t)){n=a._elementMap.get(t)}else{for(var r=0,i=a.nodeList.length,o;r<i;r++){o=a.nodeList[r];if(o.dom===t){n=o;break}}}n&&n.flyBack()}})}},{key:"_initSelfConfig",value:function e(){this._loopTime=Number(Math.round(this.rollingTime/this.nodeMaxCount)+c.TICK_TIME);this._overlap=15;return this}},{key:"_checkElement",value:function e(){if(typeof this.el==="string"){var t=document.querySelector(this.el);if(t===null){throw new Error("Control dom(el) query for no result")}else{this.el=t;this.playerWidth=t.clientWidth}}else if(!(this.el instanceof HTMLElement)){throw new Error("Control[el] not is HTMLElement, check code !")}return this}},{key:"_bindControlStyle",value:function e(){var t=["overflow: hidden;","cursor: none;","pointer-events: none;","vertical-align: baseline;","transform: translateZ(0);"];if(["","static"].includes(getComputedStyle(this.el).position)){t.push("position: relative;")}this.el.style.cssText=t.join("");return this}},{key:"_initTrackList",value:function e(){var t=this.playerWidth;var n=this.trackHeight;for(var r=0,i=this.trackCount;r<i;r++){this.trackList[r]=new s.Dtrack({index:r,width:t,height:n})}return this}},{key:"_initNodeList",value:function e(){var n=this;var t="";var r=this.nodeTag.toLowerCase();for(var i=0;i<this.nodeMaxCount;i++){t+="<"+r+' class="'+this.nodeClass+'" danmaku></'+r+">"}this.el.innerHTML=t;this._elementMap=new WeakMap;var o=this;requestAnimationFrame(function(){var e=n.el.getElementsByClassName(n.nodeClass);n.nodeList=Array.prototype.slice.call(e).map(function(e){var t=new d.Dnode(f({control:n,text:""},c.DnodeDefaultConfig.getDefault)).init(e);o._elementMap.set(e,t);return t})});return this}},{key:"_handleDanmakuOps",value:function e(t){var n=this;var r=[];if(Array.isArray(t)||Object.prototype.toString.call(t)==="[object Array]"){r.push.apply(r,p(t.map(function(e){return n._transformDnodeOps(e)})))}else{r.push(this._transformDnodeOps(t))}return r}},{key:"_transformDnodeOps",value:function e(t){if(typeof t==="string"){return f({control:this,text:t},c.DnodeDefaultConfig.getDefault)}else if(t instanceof Object){return(0,u.initMergeDefaultParams)(t,f({control:this,text:t.hasOwnProperty(this.nodeValueKey)?t[this.nodeValueKey]:""},c.DnodeDefaultConfig.getDefault))}else{throw new TypeError("TransformDnodeOps error, Bad param!")}}},{key:"_changeDensity",value:function e(){}},{key:"_changeSpeed",value:function e(t){if(Number.isNaN(t)){throw new Error("Change Error, speed type must be number, not NaN !\n"+"Please check speed param !")}else if(t<0){throw new Error("Change Error, opacity value must be greater than 0.\n")}this.nodeList.forEach(function(e){e.speed=t});this.list.forEach(function(e){e.speed=t})}},{key:"_changeOpacity",value:function e(t){if(Number.isNaN(t)){throw new Error("Change Error, opacity type must be number, not NaN !\n"+"Please check opacity param !")}else if(t<0||t>1){throw new Error("Change Error, opacity value must between 0 and 1.\n")}this.nodeList.map(function(e){return e.dom}).forEach(function(e){e.style.opacity=t+""});this.list.forEach(function(e){e.opacity=t})}},{key:"_changeOverlap",value:function e(t){var n=Math.round((1-t)*20)+5;this._overlap=Math.min(25,Math.max(5,n))}},{key:"_controlHook",value:function e(n){var r=this;if(this.on.hasOwnProperty(n)&&typeof this.on[n]==="function"){a.controlEmitter.hook(n,function(e,t){r.on[n](r,e,t)})}}},{key:"hasTasks",get:function e(){return!!this.list.length&&this.trackList.some(function(e){return e.unObstructed})&&this.nodeList.some(function(e){return e.unObstructed})}}],[{key:"getPlayer",value:function e(t){if(!n.instanceControl){n.__lock__=true;n.instanceControl=new n(t)}return n.instanceControl}}]);return n}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(9);Object.keys(r).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(n,t,{enumerable:true,get:function e(){return r[t]}})});var i=t(10);Object.keys(i).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(n,t,{enumerable:true,get:function e(){return i[t]}})});var o=n.TICK_TIME=16},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controlEmitter=t.DanmakuControlEvent=undefined;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(1);var o=n(11);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(e){a(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}r(t,[{key:"hook",value:function e(t,n){if(this.hooks.has(t)){n(this,t);return}throw new Error("[Event Error]: Hook error, Not has "+t+" event !")}}]);return t}(o.DanmakuEvent);t.DanmakuControlEvent=l;var f=t.controlEmitter=new l(i.DanmakuControlEventName)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=t.Dtrack=function(){function r(e){o(this,r);this.status=r.UN_ROLLING;this.index=e.index;this.height=e.height;this.offsetTop=e.height*e.index}i(r,[{key:"rolling",value:function e(t){var n=this;requestAnimationFrame(function(){n.status=r.ROLLING;typeof t==="function"&&t(n)})}},{key:"stopRolling",value:function e(){this.status=r.UN_ROLLING}},{key:"getTopByMiddleDnode",value:function e(t){return this.offsetTop+(this.height-t)/2}},{key:"obstructed",get:function e(){return this.status===r.ROLLING}},{key:"unObstructed",get:function e(){return this.status===r.UN_ROLLING}}]);return r}();r.ROLLING=1;r.UN_ROLLING=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isNumber=r;t.isFunction=i;function r(e){return typeof e==="number"}function i(e){return typeof e==="function"}},function(e,t){e.exports=function(n){var a=[];a.toString=function e(){return this.map(function(e){var t=r(e,n);if(e[2]){return"@media "+e[2]+"{"+t+"}"}else{return t}}).join("")};a.i=function(e,t){if(typeof e==="string")e=[[null,e,""]];var n={};for(var r=0;r<this.length;r++){var i=this[r][0];if(typeof i==="number")n[i]=true}for(r=0;r<e.length;r++){var o=e[r];if(typeof o[0]!=="number"||!n[o[0]]){if(t&&!o[2]){o[2]=t}else if(t){o[2]="("+o[2]+") and ("+t+")"}a.push(o)}}};return a};function r(e,t){var n=e[1]||"";var r=e[3];if(!r){return n}if(t&&typeof btoa==="function"){var i=a(r);var o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}function a(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));var n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+n+" */"}},function(e,t,n){var f={};var r=function(e){var t;return function(){if(typeof t==="undefined")t=e.apply(this,arguments);return t}};var i=r(function(){return window&&document&&document.all&&!window.atob});var o=function(e,t){if(t){return t.querySelector(e)}return document.querySelector(e)};var a=function(e){var r={};return function(e,t){if(typeof e==="function"){return e()}if(typeof r[e]==="undefined"){var n=o.call(this,e,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement){try{n=n.contentDocument.head}catch(e){n=null}}r[e]=n}return r[e]}}();var s=null;var u=0;var l=[];var c=n(20);e.exports=function(e,u){if(typeof DEBUG!=="undefined"&&DEBUG){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}u=u||{};u.attrs=typeof u.attrs==="object"?u.attrs:{};if(!u.singleton&&typeof u.singleton!=="boolean")u.singleton=i();if(!u.insertInto)u.insertInto="head";if(!u.insertAt)u.insertAt="bottom";var l=h(e,u);d(l,u);return function e(t){var n=[];for(var r=0;r<l.length;r++){var i=l[r];var o=f[i.id];o.refs--;n.push(o)}if(t){var a=h(t,u);d(a,u)}for(var r=0;r<n.length;r++){var o=n[r];if(o.refs===0){for(var s=0;s<o.parts.length;s++)o.parts[s]();delete f[o.id]}}}};function d(e,t){for(var n=0;n<e.length;n++){var r=e[n];var i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++){i.parts[o](r.parts[o])}for(;o<r.parts.length;o++){i.parts.push(w(r.parts[o],t))}}else{var a=[];for(var o=0;o<r.parts.length;o++){a.push(w(r.parts[o],t))}f[r.id]={id:r.id,refs:1,parts:a}}}}function h(e,t){var n=[];var r={};for(var i=0;i<e.length;i++){var o=e[i];var a=t.base?o[0]+t.base:o[0];var s=o[1];var u=o[2];var l=o[3];var f={css:s,media:u,sourceMap:l};if(!r[a])n.push(r[a]={id:a,parts:[f]});else r[a].parts.push(f)}return n}function p(e,t){var n=a(e.insertInto);if(!n){throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.")}var r=l[l.length-1];if(e.insertAt==="top"){if(!r){n.insertBefore(t,n.firstChild)}else if(r.nextSibling){n.insertBefore(t,r.nextSibling)}else{n.appendChild(t)}l.push(t)}else if(e.insertAt==="bottom"){n.appendChild(t)}else if(typeof e.insertAt==="object"&&e.insertAt.before){var i=a(e.insertAt.before,n);n.insertBefore(t,i)}else{throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n")}}function v(e){if(e.parentNode===null)return false;e.parentNode.removeChild(e);var t=l.indexOf(e);if(t>=0){l.splice(t,1)}}function y(e){var t=document.createElement("style");if(e.attrs.type===undefined){e.attrs.type="text/css"}if(e.attrs.nonce===undefined){var n=g();if(n){e.attrs.nonce=n}}b(t,e.attrs);p(e,t);return t}function m(e){var t=document.createElement("link");if(e.attrs.type===undefined){e.attrs.type="text/css"}e.attrs.rel="stylesheet";b(t,e.attrs);p(e,t);return t}function b(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function g(){if(false){}return n.nc}function w(n,e){var t,r,i,o;if(e.transform&&n.css){o=typeof e.transform==="function"?e.transform(n.css):e.transform.default(n.css);if(o){n.css=o}else{return function(){}}}if(e.singleton){var a=u++;t=s||(s=y(e));r=x.bind(null,t,a,false);i=x.bind(null,t,a,true)}else if(n.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){t=m(e);r=O.bind(null,t,e);i=function(){v(t);if(t.href)URL.revokeObjectURL(t.href)}}else{t=y(e);r=_.bind(null,t);i=function(){v(t)}}r(n);return function e(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap){return}r(n=t)}else{i()}}}var k=function(){var n=[];return function(e,t){n[e]=t;return n.filter(Boolean).join("\n")}}();function x(e,t,n,r){var i=n?"":r.css;if(e.styleSheet){e.styleSheet.cssText=k(t,i)}else{var o=document.createTextNode(i);var a=e.childNodes;if(a[t])e.removeChild(a[t]);if(a.length){e.insertBefore(o,a[t])}else{e.appendChild(o)}}}function _(e,t){var n=t.css;var r=t.media;if(r){e.setAttribute("media",r)}if(e.styleSheet){e.styleSheet.cssText=n}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(n))}}function O(e,t,n){var r=n.css;var i=n.sourceMap;var o=t.convertToAbsoluteUrls===undefined&&i;if(t.convertToAbsoluteUrls||o){r=c(r)}if(i){r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"}var a=new Blob([r],{type:"text/css"});var s=e.href;e.href=URL.createObjectURL(a);if(s)URL.revokeObjectURL(s)}},function(e,t,n){n(8);e.exports=n(17)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(0);t.default=r.DanmakuPlayer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=t.DnodeDefaultConfig=function(){function t(){i(this,t)}r(t,null,[{key:"getDefault",get:function e(){return{fontSize:t.FONT_SIZE,fontFamily:t.FONT_FAMILY,color:t.COLOR,speed:t.SPEED,fontWeight:t.FONT_WEIGHT,opacity:t.OPACITY,nodeClass:""}}}]);return t}();o.FONT_SIZE=22;o.FONT_FAMILY="SimHei";o.COLOR="#FFFFFF";o.SPEED=1;o.FONT_WEIGHT="normal";o.OPACITY="1";var a=t.DanmakuPlayDefaultConfig=function(){function t(){i(this,t)}r(t,null,[{key:"getDefault",get:function e(){return{rollingTime:t.ROLLING_TIME,nodeTag:t.NODE_TAG,nodeClass:t.NODE_CLASS,nodeMaxCount:t.NODE_MAX_COUNT,nodeValueKey:t.NODE_VALUE_KEY,trackCount:t.TRACK_COUNT,trackHeight:t.TRACK_HEIGHT,on:t.EVENT}}}]);return t}();a.ROLLING_TIME=6e3;a.NODE_TAG="p";a.NODE_CLASS="awesome-danmaku-item";a.NODE_MAX_COUNT=25;a.NODE_VALUE_KEY="value";a.TRACK_COUNT=5;a.TRACK_HEIGHT=40;a.EVENT={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=t.DanmakuControlPlayStatus=function e(){r(this,e)};i.EMPTY=-1;i.INIT=100;i.STOP=110;i.PLAY=200;i.PAUSED=210;var o=t.DanmakuControlEventName={INIT:"init",PLAY:"play",PAUSE:"pause",STOP:"stop"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function n(e,t){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;o=e}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return n(e,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function t(e){var i=this;a(this,t);this.hooks=new Set;Object.entries(e).forEach(function(e){var t=o(e,2),n=t[0],r=t[1];i.hooks.add(r)})}r(t,[{key:"hook",value:function e(t,n){}}]);return t}();t.DanmakuEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Dnode=undefined;var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var o=n(13);var a=n(4);var r=n(3);var s=n(0);var u=n(14);function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=t.Dnode=function(){function r(e){l(this,r);this.launchTimer=null;this.runStatus=u.DnodeRunStatus.EMPTY;this._init(e)}i(r,[{key:"getDrawStyle",value:function e(){return["display: inline-block","width: "+this.width+"px","height: "+this.height+"px","line-height: "+this.height+"px","font-size: "+this.fontSize+"px","font-family: "+this.fontFamily,"font-weight: "+this.fontWeight,"color: "+this.color,"top: "+this.track.getTopByMiddleDnode(this.height)+"px","left: "+this.control.playerWidth+"px","opacity: "+this.opacity,"transform-origin: left","transition-property: transform, -webkit-transform","transition-timing-function: linear","transition-delay: 0","perspective: 500px","position: absolute","user-select: none","white-space: nowrap","cursor: none","pointer-events: none"].join("; ")}},{key:"init",value:function e(t){this.dom=t;this.runStatus=u.DnodeRunStatus.INIT;return this}},{key:"patch",value:function e(t){this._init(t);this._computedTextSize();this._computedTotalDistance();this._joinTrack();this._editText();return this}},{key:"run",value:function e(t){var n=this;this._draw();this.runStatus=u.DnodeRunStatus.READY;this.track.rolling(function(e){n.launch();n.launchTimer&&clearTimeout(n.launchTimer);n.launchTimer=setTimeout(function(){e.stopRolling();n.runStatus=u.DnodeRunStatus.LAUNCHED},n.launchTime);if((0,a.isFunction)(t)){n.onEnd=t}})}},{key:"launch",value:function e(){var t=this;this.runStatus=u.DnodeRunStatus.RUNNING;this.dom.style.transitionDuration=this.totalTime+"ms";this.dom.style.display="inline-block";requestAnimationFrame(function(){t.dom.style.transform="translateX("+t.translateX+"px) translateY(0px) translateZ(0px)";t.dom.style.webkitTransform="translateX("+t.translateX+"px) translateY(0px) translateZ(0px)"});return this}},{key:"flyBack",value:function e(){var t=this;if((0,a.isFunction)(this.onEnd)){this.onEnd(this)}requestAnimationFrame(function(){t.dom.style.display="none";t.dom.style.willChange="none";t.dom.textContent="";t.dom.style.transitionDuration="0";t.dom.style.transform="translateX(0px) translateY(0px) translateZ(0px)";t.dom.style.webkitTransform="translateX(0px) translateY(0px) translateZ(0px)";requestAnimationFrame(function(){t.runStatus=u.DnodeRunStatus.RUN_END})});return this}},{key:"_init",value:function e(t){this.text=t.text;this.control=t.control;this.fontSize=t.fontSize;this.fontFamily=t.fontFamily;this.fontWeight=t.fontWeight;this.opacity=t.opacity;this.color=t.color;this.speed=t.speed}},{key:"_computedTextSize",value:function e(){var t=this.fontSize+"px "+this.fontFamily;var n=(0,o.measureTextWidth)(this.text,t,r.getInstanceCanvasRenderingContext2D());this.width=(n<<0)+this.fontSize;this.height=this.control.trackHeight}},{key:"_computedTotalDistance",value:function e(){var t=this.control.playerWidth+this.width;this.translateX=-1*t;this.launchTime=this.control.rollingTime*(this.width/t)<<0;this.totalTime=this.control.rollingTime/this.speed<<0}},{key:"_joinTrack",value:function e(){var t=this.control.getUnObstructedTrack();t&&(this.track=t);return this}},{key:"_editText",value:function e(){this.dom.textContent=this.text;return this}},{key:"_draw",value:function e(){if(!(this.dom instanceof HTMLElement)){throw new Error("Draw error: dom not instanceof HTMLElement !")}this.dom.style.willChange="transform";this.dom.style.cssText=this.getDrawStyle();return this}},{key:"unObstructed",get:function e(){return u.DnodeRunStatus.INIT===this.runStatus||u.DnodeRunStatus.RUN_END===this.runStatus}}],[{key:"getInstanceCanvasRenderingContext2D",value:function e(){if(!this.instanceTextSizeCanvas){var t=document.createElement("canvas");t.id="awesome-danmaku__canvas-rendering-2d";t.style.display="none";if(window&&document.body){document.body.appendChild(t)}this.instanceTextSizeCanvas=t;this.instanceTextSizeCanvasRenderingContext2D=t.getContext("2d")}return this.instanceTextSizeCanvasRenderingContext2D}}]);return r}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.measureTextWidth=r;var s=n(4);function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var n=arguments[2];n.font=t;var r=n.measureText(e),i=r.actualBoundingBoxLeft,o=r.actualBoundingBoxRight,a=r.width;return(0,s.isNumber)(i)&&(0,s.isNumber)(o)?Math.abs(i)+Math.abs(o):(0,s.isNumber)(a)?a:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=t.DnodeRunStatus=function e(){r(this,e)};i.EMPTY=-1;i.INIT=100;i.READY=110;i.RUNNING=200;i.LAUNCHED=210;i.RUN_END=220},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function n(e,t){var n=[];var r=true;var i=false;var o=undefined;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;o=e}finally{try{if(!r&&a["return"])a["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return n(e,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();t.initMergeDefaultParams=r;function r(e,i,t){if(!(e instanceof Object)||!(i instanceof Object)){throw new TypeError("params must instanceof Object !")}Object.entries(e).forEach(function(e){var t=o(e,2),n=t[0],r=t[1];if(i.hasOwnProperty(n)){i[n]=r}});var n=Object.entries(i);return t&&t instanceof Object?a(t,n):s(n)}function a(i,e){e.forEach(function(e){var t=o(e,2),n=t[0],r=t[1];i[n]=r});return i}function s(e){var i={};e.forEach(function(e){var t=o(e,2),n=t[0],r=t[1];i[n]=r});return i}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:true});var r=t(2);Object.keys(r).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(n,t,{enumerable:true,get:function e(){return r[t]}})})},function(e,t,n){"use strict";n(18);n(21);n(24)},function(e,t,n){var r=n(19);if(typeof r==="string")r=[[e.i,r,""]];var i;var o;var a={hmr:true};a.transform=i;a.insertInto=undefined;var s=n(6)(r,a);if(r.locals)e.exports=r.locals;if(false){}},function(e,t,n){t=e.exports=n(5)(false);t.push([e.i,"* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  background-color: #000;\n}\n\n#danmaku {\n  width: 100vw;\n  height: 100vh;\n  background-color: #333;\n}\n\n#demo-a {\n  width: 90vw;\n  height: 80vh;\n  margin-bottom: 4vh;\n  background-color: #333;\n}\n\n#demo-b {\n  width: 90vw;\n  height: 44vh;\n  background-color: #333;\n}\n\n.item {\n  padding: 0 1rem;\n}\n\n.send{\n  border: 1px solid #78CAFA;\n}\n",""])},function(e,t){e.exports=function(e){var t=typeof window!=="undefined"&&window.location;if(!t){throw new Error("fixUrls requires window.location")}if(!e||typeof e!=="string"){return e}var i=t.protocol+"//"+t.host;var o=i+t.pathname.replace(/\/[^\/]*$/,"/");var n=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)){return e}var r;if(n.indexOf("//")===0){r=n}else if(n.indexOf("/")===0){r=i+n}else{r=o+n.replace(/^\.\//,"")}return"url("+JSON.stringify(r)+")"});return n}},function(e,t,n){"use strict";var r=n(22);var i=s(r);var o=n(23);var a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}window.DanmakuPlayA=i.default.getPlayer({el:"#danmaku",nodeClass:"item",rollingTime:6500,nodeMaxCount:150,trackCount:30,trackHeight:25});DanmakuPlayA.play();DanmakuPlayA.change("overlap",1);var u={density:3,speed:1,opacity:1};var l=["Â§èÊó•ÊòØË∞ÉÊï¥ÂøÉÊÉÖÁöÑÊúÄÂ•ΩÂ≠£ËäÇÂ∞§ÂÖ∂ÊòØÈªÑÊòè‰∏éÊôöÈ£é„ÄÇ","ÂéªÂÅö‰Ω†ÊÉ≥ÂÅöÁöÑ‰∫ãÊÉÖ Âì™ÊÄï‰∏çÂÄºÂæó Âì™ÊÄïÁúüÁöÑÊòØÊµ™Ë¥π„ÄÇ","Â¶ÇÊûúËÉΩÂú®ÂçÅ‰∏ÄÊúàÁöÑÂÇçÊôöÊó∂ÔºåÂåÜÂåÜÂêÉÊéâ‰∏ÄÁ¢óÈ•≠ÂêéÊç¢‰∏äÂñúÊ¨¢ÁöÑÂç´Ë°£ÔºåÈöèÂêéÂéªËßÅ‰∏Ä‰∏™ÂñúÊ¨¢ÁöÑ‰∫∫ÔºåÂíå‰ªñ‰∏ÄËµ∑Ëµ∞Âú®ÂÆâÈùôÁöÑÂ∑∑Â≠êÈáåÔºåÊàñÊòØÁÉ≠ÈóπÁöÑÂ§úÂ∏ÇÈáåÔºåÈÇ£Êó∂ÂÄô‰∏ÄÂÆöËøûÊôöÈ£éÈÉΩÊòØÊó†ÊØîÊ∏©ÊüîÁöÑ„ÄÇ","‰∏çÁÆ°ÁîüÊ¥ªÊÄé‰πà‰∫èÂæÖÊàëÔºåÊàëÈÉΩË¶ÅÂ§ßÂè£Â§ßÂè£ÁöÑÊ¥ªÁùÄ","Â§èÊó•ÁöÑÈÅóÊÜæ‰∏ÄÂÆö ‰ºöË¢´ÁßãÈ£éÊ∏©ÊüîÂåñËß£","Áé∞Âú®ÁöÑÁî∑Â≠©Â≠êÈÉΩÂ•ΩÊúâÂìÅ‰ΩçÂïä ‰∏Ä‰∏™‰∏™ÈÉΩÁúã‰∏ç‰∏äÊàë","Â•ΩÂÉèÊÄé‰πàÈÉΩÂø´‰πê‰∏çËµ∑Êù•‰∫ÜÊØïÁ´üÊàëÂ§±Âéª‰∫ÜÁÅ´ÈîÖÁÉßÁÉ§È∫ªÂ∞ÜÊâëÂÖãÁÉ§ËÇâÁÖéÈ•ºÂíå‰Ω†","Hello world!!","public static void main","Â¶Ç‰Ω†ÊâÄËßÅÔºåËøô‰∏™‰∏ªÁ´ô‰ºº‰πéË¢´Â∞èAËçíÂ∫ü‰∫Ü","‰ªÄ‰πàÊó∂ÂÄôÂÜô‰∏ªÁ´ô???","Ëøô‰∫õÂºπÂπïÂà∞Â∫ïÊòØË∞ÅÂèëÁöÑÔºü","Move fast and break things !","Êù•Ëá™ Awesome-Danmaku ...","ÊòØ‰∏çÊòØÂ∫îËØ•Âä†‰∏ÄÁÇπËÉåÊôØÂõæ‰πãÁ±ªÁöÑÔºü","ÂâçÊéíÂêÉÁìúÁæ§‰ºó","ËøôÁßçÁÆÄÈôãÁöÑÊÄßÂÜ∑Ê∑°È£éÂà∞Â∫ïÊòØ‰ªÄ‰πàÊÉÖÂÜµ...","ÂºπÂπïÂêõÂ∑≤Ê≠ª..Êúâ‰∫ãÁÉßÁ∫∏..."];function f(){return"#"+[(Math.floor(Math.random()*155)+100).toString(16),(Math.floor(Math.random()*155)+100).toString(16),(Math.floor(Math.random()*155)+100).toString(16)].join("")}function c(){DanmakuPlayA.insert(Object.assign({value:l[Math.floor(Math.random()*l.length)],fontWeight:"bolder",fontSize:10+Math.floor(Math.random()*5),color:f()},u))}var d=0;var h=[];while(d<5e4){h[d]=Object.assign({value:l[Math.floor(Math.random()*l.length)],fontWeight:"bolder",fontSize:10+Math.floor(Math.random()*5),color:f()},u);d++}DanmakuPlayA.insert(h);var p=new a.default;p.showPanel(0);document.body.appendChild(p.dom);function v(){p.begin();p.end();requestAnimationFrame(v)}requestAnimationFrame(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(0);e.exports=r.DanmakuPlayer;t.default=r.DanmakuPlayer;if(window&&window["AwesomeDanmaku"]===undefined){window.AwesomeDanmaku=r.DanmakuPlayer}},function(n,e,t){(function(e,t){true?n.exports=t():undefined})(this,function(){var f=function(){function e(e){r.appendChild(e.dom);return e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";r.addEventListener("click",function(e){e.preventDefault();t(++n%r.children.length)},!1);var i=(performance||Date).now(),o=i,a=0,s=e(new f.Panel("FPS","#0ff","#002")),u=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new f.Panel("MB","#f08","#201"));t(0);return{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();u.update(e-i,200);if(e>o+1e3&&(s.update(1e3*a/(e-o),100),o=e,a=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:r,setMode:t}};f.Panel=function(n,r,i){var o=Infinity,a=0,s=Math.round,u=s(window.devicePixelRatio||1),l=80*u,e=48*u,f=3*u,c=2*u,d=3*u,h=15*u,p=74*u,v=30*u,y=document.createElement("canvas");y.width=l;y.height=e;y.style.cssText="width:80px;height:48px";var m=y.getContext("2d");m.font="bold "+9*u+"px Helvetica,Arial,sans-serif";m.textBaseline="top";m.fillStyle=i;m.fillRect(0,0,l,e);m.fillStyle=r;m.fillText(n,f,c);m.fillRect(d,h,p,v);m.fillStyle=i;m.globalAlpha=.9;m.fillRect(d,h,p,v);return{dom:y,update:function(e,t){o=Math.min(o,e);a=Math.max(a,e);m.fillStyle=i;m.globalAlpha=1;m.fillRect(0,0,l,h);m.fillStyle=r;m.fillText(s(e)+" "+n+" ("+s(o)+"-"+s(a)+")",f,c);m.drawImage(y,d+u,h,p-u,v,d,h,p-u,v);m.fillRect(d+p-u,h,u,v);m.fillStyle=i;m.globalAlpha=.9;m.fillRect(d+p-u,h,u,s((1-e/t)*v))}}};return f})},function(e,t,n){var r=n(25);if(typeof r==="string")r=[[e.i,r,""]];var i;var o;var a={hmr:true};a.transform=i;a.insertInto=undefined;var s=n(6)(r,a);if(r.locals)e.exports=r.locals;if(false){}},function(e,t,n){t=e.exports=n(5)(false);t.push([e.i,"* {\n  margin: 0;\n  padding: 0;\n}\n.slider-box {\n  border-radius: 7px;\n  opacity: 0.95;\n  padding: 10px 20px;\n  background-color: #fff;\n}\n.slider-box .slider-item {\n  height: 30px;\n  margin-bottom: 10px;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n}\n.slider-box .slider-item:last-child {\n  margin-bottom: 0;\n}\n.slider-box .slider-item .slider-label {\n  width: 50px;\n  font-size: 12px;\n  font-weight: normal;\n  letter-spacing: 0.25px;\n  user-select: none;\n  pointer-events: none;\n}\n.slider-box .slider-item .slider-content {\n  position: relative;\n  z-index: 10px;\n  margin: 0 50px;\n  width: 100px;\n  height: 4px;\n  border-radius: 2px;\n  background-color: #ddd;\n}\n.slider-box .slider-item .slider-content .slider-left-text,\n.slider-box .slider-item .slider-content .slider-right-text {\n  position: absolute;\n  z-index: 5;\n  pointer-events: none;\n  cursor: none;\n  user-select: none;\n  width: 40px;\n  height: 20px;\n  font-size: 13px;\n  font-weight: 450;\n  color: #333;\n  top: 50%;\n  vertical-align: middle;\n  text-align: center;\n  white-space: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.slider-box .slider-item .slider-content .slider-left-text {\n  left: -10px;\n  transform: translate3d(-100%, -50%, 0);\n}\n.slider-box .slider-item .slider-content .slider-right-text {\n  right: -10px;\n  transform: translate3d(100%, -50%, 0);\n}\n.slider-box .slider-item .slider-content .slider-button {\n  position: absolute;\n  z-index: 20px;\n  top: 50%;\n  width: 20px;\n  height: 20px;\n  box-sizing: border-box;\n  border: 2px solid #ff69b4;\n  background-color: #fff;\n  border-radius: 50%;\n  transition: transform 200ms;\n  transform: translate3d(-50%, -50%, 0);\n  cursor: grab;\n}\n.slider-box .slider-item .slider-content .slider-button:hover {\n  transform: translate3d(-50%, -50%, 0) scale(1.2);\n}\n",""])}])});